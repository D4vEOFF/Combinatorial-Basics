\section{Nezávislé jevy}

Klíčovým pojmem v teorii pravděpodobnosti jsou tzv. \emph{nezávislé jevy}. Nejprve si uveďme definici a následně se podíváme na několik příkladů.

\begin{definition}[Nezávislé jevy]\label{def:nezavisle_jevy}
    Libovolné jevy $A,\,B\subseteq\Omega$ nazýváme \textbf{nezávislé}, pokud platí
    \[\Prob(A\cap B)=\Prob(A)\cdot\Prob(B).\]
    V opačném případě nazveme nazveme jevy $A,\,B$ \textbf{závislými}.
\end{definition}

Tuto definici můžeme zobecnit na libovolný počet jevů, tj. jevy $A_1,\,A_2,\,\dots,\,A_n\subseteq\Omega$ nezveme nezávislými, pokud platí
\[\Prob\left(\bigcap\limits_{i=1}^{n}A_i\right)=\prod_{i=1}^{n}\Prob(A_i).\]
\medskip

Tato definice se může zdát poměrně abstraktní. Avšak název reflektuje poměrně jednoduchou věc a to sice, že jsou-li jevy $A,\,B$ nezávislé, pak tvrdíme, že výskyt jevu $A$ \textbf{nijak neovlivní výskyt} $B$. Často se této vlastnosti využívá, pokud chceme vypočítat pravděpodobnost, že nastane jev $A$ a zároveň i jev $B$, tzn. jev $A\cap B$.\par
J. Nešetřil ve své knize \emph{Kapitoly z diskrétní matematiky} vysvětluje nezávislost jevů následovně: \textit{Nezávislost znamená, že rozdělíme-li $\Omega$ na dvě části, jev $A$ a jeho doplněk $\Omega\setminus A$, pak jev $B$ "rozřízne" obě tyto části v témže poměru. Jinak řečeno, kdybychom prvek $\omega\in\Omega$ volili náhodně nikoliv ze všech prvků $\Omega$, ale jenom mezi prvky $A$, byla by pravděpodobnost, že $\omega\in B$, přesně rovna $\Prob(B)$ (za předpokladu, že $\Prob(A)\neq 0$).} \citep[str. 314]{MatousekNesetril2009}
\begin{figure}[H]
    \centering
    \includegraphics[scale=\normalipe]{ch04_nezavislost_jevu.pdf}
    \caption{Grafické znázornění nezávislosti jevů.}
    \label{fig:nezavislost_jevu}
\end{figure}
Na obrázku \ref{fig:nezavislost_jevu} lze vidět grafické znázornění k vysvětlení výše. Poměr počtu červeně vyznačených elementárních jevů, které náleží jevu $B$ a počtu elementárních jevů, které mu nenáleží, ale náleží $\Omega\setminus A$, je stejný, jako poměr počtu elementárních jevů, které náleží $A$, ale nikoliv $B$, a počtu elementárních jevů, které náleží $A\cap B$. Protože všechny elementární jevy jsou stejně pravděpodobné, pak příslušné poměry přímo odpovídají daným pravděpodobnostem. tzn.
\[\dfrac{\sizeof{A\cap B}}{\sizeof{A}}=\dfrac{\sizeof{B\setminus A}}{\sizeof{\Omega\setminus A}}\]
\begin{task}
    Házíme $n$-krát spravedlivou mincí. Jaká pravděpodobnost, že 2-krát za sebou padne líc?
\end{task}
\begin{solution}
    První hod mince jistě nijak neovlivní druhý hod. Protože házíme dvakrát, množinu elementárních jevů nyní tvoří uspořádané dvojice, kdy první, resp. druhá souřadnice značí, zda v prvním, resp. druhém hodu padl rub (R) nebo líc (L), tj. $\Omega=\set{(R,\,R),\,(R,\,L),\,(L,\,R),\,(L,\,L)}$. Jev, kdy v prvním hodu padl líc, si označíme $A=\set{(L,\,R),\,(L,\,L)}$, a jev, kdy padl v druhém hodu líc, si označíme $B=\set{(R,\,L),\,(L,\,L)}$. Protože nás zajímá, kdy padne v obou hodech líc, pak nás zajímá jev $A\cap B=\set{(L,\,L)}$. Tedy pravděpodobnost, že tento jev nastane, je
    \[\Prob(A\cap B)=\dfrac{\sizeof{A\cap B}}{\sizeof{\Omega}}=\dfrac{1}{4}=25\,\%.\]
    Avšak, jak se můžeme přesvědčit, platí také
    \[\Prob(A\cap B)=\Prob(A)\cdot\Prob(B)=\dfrac{1}{2}\cdot\dfrac{1}{2}=\dfrac{1}{4}.\]
    Jevy $A$ a $B$ jsou tedy \textbf{nezávislé}.
\end{solution}
Jedna věc se zde může zdát zarážející. Pokud se ohlédneme zpět za definicí nezávislých jevů \ref{def:nezavisle_jevy}, můžeme si všimnout, že ačkoliv nám definice dává v podstatě "návod", jak počítat pravděpodobnost nezávislých jevů, přesto jsme se u příkladu výše byly "nuceni" uchýlit ke klasickému výpočtu pravděpodobnosti z definice, tj. \emph{počet příznivých možností ke počtu všech možných možností}, a to proto, že jsme dopředu nevěděli, zda uvažované jevy jsou skutečně nezávislé a museli jsme tuto skutečnost ověřit výpočtem. Nezdá se, že tak naše definice byla něčemu užitečná. Ale není tomu tak, neboť si stačí uvědomit následující věc. Představme si, že máme množinu elementárních jevů $\Omega=\set{\omega_1,\,\omega_2,\,\dots,\,\omega_n}$ a libovolné disjunktní jevy $A,\,B\subseteq\Omega$. Uvažme, že chceme vypočítat pravděpodobnost, že při dvou pokusech nejdříve nastane jev $A$ a pak jev $B$. Pak tuto pravděpodobnost lze stanovit právě pomocí vzorce
\[\Prob(A\cap B)=\Prob(A)\cdot\Prob(B).\]
Je tomu tak z důvodu, že pokud provádíme dva pokusy, pak množina všech možných jevů, označme $\Omega^\prime$, obsahuje uspořádané dvojice (jako u úlohy s hodem mincí), tj. $\Omega^\prime=\set{(\omega_i,\,\omega_j)\admid 0\leqslant i,\,j\leqslant n}$ (tedy zde započítáváme i kolik pokusů provádíme; obecně pokud bychom prováděli $k$ pokusů, pak tato množiny bude obsahovat uspořádané $k$-tice). Tzn. jev $A\cap B$ obsahuje všechny dvojice, které náleží jak jevu $A$, tak jevu $B$, tj. takové, které na příslušných souřadnicích mají elementární jevy z $A$ a $B$. Formálně zapsáno:
\[A\cap B=\set{(\varphi,\,\psi)\admid\varphi\in A \land \psi\in B}.\]
Chceme nyní vypočítat $\Prob(A\cap B)$. K tomu potřebujeme znát $\sizeof{A\cap B}$ a $\sizeof{\Omega^\prime}$. Protože víme, že $\sizeof{\Omega}=n$ a $\Omega^\prime$ je množina všech uspořádaných dvojic z elementárních jevů $\Omega$, pak $\sizeof{\Omega^\prime}=n^2$.\par
Velikost průniku $A\cap B$ lze určit následující úvahou. Pokud elementární jevy jevu $A$ obsahují na první souřadnici elementární jevy množiny $\Omega$, které si označíme
\[\varphi_1,\,\varphi_2,\,\dots,\,\varphi_m,\]
pak $\sizeof{A}=mn$. Analogicky pro obsahující uspořádané dvojice, kde na druhé souřadnici jsou elementární jevy
\[\psi_1,\,\psi_2,\,\dots,\,\psi_k,\]
je $\sizeof{B}=kn$. Tedy pravděpodobnost, že nastane jev $A$, je tak
\[\Prob(A)=\dfrac{\sizeof{A}}{\sizeof{\Omega}}=\dfrac{mn}{n^2}=\dfrac{m}{n}\]
a analogicky pro $B$ je pravděpodobnost
\[\Prob(B)=\dfrac{\sizeof{B}}{\sizeof{\Omega}}=\dfrac{kn}{n^2}=\dfrac{k}{n}.\]
\begin{figure}[H]
    \centering
    \includegraphics[scale=\normalipe]{ch04_dvojice_podil.pdf}
    \caption{Znázornění jevů $A$ a $B$ v množině $\Omega^\prime$.}
    \label{fig:dvojice_podil}
\end{figure}
Nakonec velikost průniku jevů $A$ a $B$ je $mk$ (viz obrázek \ref{fig:dvojice_podil}). Nyní již můžeme určit pravděpodobnost jevu $A\cap B$, tedy
\[\Prob(A\cap B)=\dfrac{\sizeof{A\cap B}}{\sizeof{\Omega^\prime}}=\dfrac{mk}{n^2}=\dfrac{m}{n}\cdot\dfrac{k}{n}=\Prob(A)\cdot\Prob(B).\]
Tedy jevy $A$ a $B$ jsou skutečně nezávislé. Při obecnější úvaze bychom mohli uvažovat jevy $A$ a $B$ jako podmnožiny dvou různých množin elementárních jevů a došli bychom ke stejnému výsledku. (Zkuste si rozmyslet.)
\medskip

Nyní se podíváme na několik dalších příkladů využití nezávislosti jevů. Aktuálně jsme si již vysvětlili formální pozadí teorie pravděpodobnosti a to především, abychom jsme si vybudovali určitý způsob chápání náhody v řeči matematiky. Zatím jsme tak v rámci formalizace při řešení různých úloh kromě samotného výpočtu řešili také určení množiny elementárních jevů, abychom naši jinak abstraktní definici ukázali v aplikaci na konkrétních příkladech. Nicméně pokud se podíváte na úlohy v různých sbírkách (hlavně na internetu) na pravděpodobnost, jen málokde byste v jejich řešení našly tyto kroky a zejména z důvodu, že tyto záležitosti jsou považovány za intuitivní. Abychom se vyhnuli zdlouhavým řešením a jejich zápisům, budeme řešení provádět od teď o něco stručněji.
\begin{task}
    Ve městě jsou čtyři křižovatky se světelnými semafory. Každý z nich uvolňuje nebo uzavírá dopravu se stejnou pravděpodobností $0{,}5$. Jaká je pravděpodobnost, že auto:
    \begin{enumerate}[label=(\alph*)]
        \item projde první křižovatkou bez zdržení,
        \item projde prvními dvěma křižovatkami bez zdržení,
        \item projde všemi čtyřmi křižovatkami bez zdržení.
    \end{enumerate}
\end{task}
\begin{solution}
    Každá z těchto křižovatek představuje \emph{samostatnou situaci}, kde chceme spočítat, zda auto projede, nebo neprojede bez zdržení. Všechny situace, kdy auto projede bez zdržení tak u každé křižovatky tvoří samostatný jev\footnote{Technicky vzato zde máme 4 množiny elementárních jevů pro každou křižovatku, ale předešlou úvahu o nezávislých jevech lze aplikovat i pro různé množiny elementárních jevů (tj. nemusí být nutně stejné).}, tj. $K_1,\,K_2,\,K_3,\,K_4$, které jsou nezávislé. Body \textit{(a)}, \textit{(b)} a \textit{(c)} tak vyřešíme následovně:
    \begin{enumerate}[label=(\alph*)]
        \item $\displaystyle \Prob(K_1)=0{,}5=50\,\%$,
        \item $\displaystyle \Prob(K_1\cap K_2)=0{,}5\cdot 0{,}5=0{,}25=25\,\%$,
        \item $\displaystyle \Prob(K_1\cap K_2\cap K_3)=0{,}5\cdot 0{,}5\cdot 0{,}5=0{,}125=12{,}5\,\%.$
    \end{enumerate}
\end{solution}
\begin{task}
    Máme falešnou kostku, kde čísla padají s pravděpodobnostmi.
    \begin{itemize}
        \item $\Prob(\set{1})=0{,}1$;
        \item $\Prob(\set{2})=0{,}2$;
        \item $\Prob(\set{3})=0{,}22$;
        \item $\Prob(\set{4})=0{,}16$;
        \item $\Prob(\set{5})=0{,}24$;
        \item $\Prob(\set{6})=0{,}08$.
    \end{itemize}
    Určete pravděpodobnost, že při dvou hodech padnou stejná čísla. \citep[příklad \textit{Falešná kostka
    }]{hackmath2022}
\end{task}
\begin{solution}
    Každý hod kostkou tvoří nezávislý jev, tedy pravděpodobnost, že dvakrát za sebou padne stejné číslo $i$ (označme $D_i$) je rovna
    \[\Prob(D_i)=\Prob(\set{i})\cdot\Prob(\set{i})=\Prob(\set{i})^2.\]
    Pro všechna různá $i,\,j$ jsou však jevy $D_i$ a $D_j$ disjunktní (nemůže nám padnout dvakrát za sebou číslo $i$ a zároveň dvakrát za sebou číslo $j$). Tedy výsledná pravděpodobnost je
    \begin{align*}
        \Prob\left(\bigcup\limits_{i=1}^{6}D_i\right)&=\sum_{i=1}^{6}\Prob(D_i)=\sum_{i=1}^{6}\Prob(\set{i})^2\\
        &=0{,}1^2+0{,}2^2+0{,}22^2+0{,}16^2+0{,}24^2+0{,}08^2=0{,}188=18{,}8\,\%.
    \end{align*}
\end{solution}
\begin{task}
    \textit{Kolikrát musíme hodit mincí, aby pravděpodobnost, že padne alespoň jednou líc byla větší než $0{,}999$?} \citep[str. 171]{Petakova2020}
\end{task}
\begin{solution}
    Máme spravedlivou minci, tedy pravděpodobnost, že padne líc je $1/2$. Zkusíme úlohu vyřešit opačným způsobem, tedy vypočítáme pravděpodobnost obecně pro $n$ pokusů, že nepadl ani jednou líc (což je jev opačný k jevu, který máme vyšetřit). To znamená, že řešíme pravděpodobnost jevu, že $n$-krát po sobě padl rub. Označme si jev, kdy po $n$ pokusech padl alespoň jednou líc, jako $L$. Tzn. jev, kdy padne $n$-krát po sobě rub, je $L^\complement$. Pravděpodobnost jevu $L^\complement$ je tak
    \[\Prob\left(L^\complement\right)=\left(\dfrac{1}{2}\right)^n.\]
    Tedy pravděpodobnost jevu $L$ je
    \[\Prob(L)=1-\left(\dfrac{1}{2}\right)^n,\]
    přičemž nás zajímá, pro jaké $n$ tato pravděpodobnost přesáhne hodnotu $0{,}999$. Tedy řešíme nerovnici
    \begin{align*}
        1-\left(\dfrac{1}{2}\right)^n&\geqslant 0{,}999\\
        0{,}001&\geqslant\left(\dfrac{1}{2}\right)^n\\
        \dfrac{1}{1000}&\geqslant\dfrac{1}{2^n}\\
        2^n&\geqslant 1000\\
        n&\geqslant\log_2{1000}\approx 9{,}966\\
        n&\geqslant 10.
    \end{align*}
    Tedy pro $n\geqslant 10$ pravděpodobnost, že padne alespoň jednou líc, přesáhne hodnotu $0{,}999$.
\end{solution}